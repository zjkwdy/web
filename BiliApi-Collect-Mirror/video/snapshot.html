
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="baidu-site-verification" content="code-MHmXGGvymI" />
    <link rel="stylesheet" type="text/css" href="/css/waifu.css"/>
    <title>IMin Lab</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="IMin,"> 
    <meta name="description" content="IMin一个憨批的博客,"> 
    <meta name="author" content="IMin"> 
    <link rel="alternative" href="atom.xml" title="IMin Lab" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
<link rel="stylesheet" href="/css/bilibili_iconfont.css">

    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">

    
<link rel="stylesheet" href="/css/bilibili_iconfont.css">

    
<link rel="stylesheet" href="/css/diaspora.css">

    
<link rel="stylesheet" href="/css/waifu.css">

<meta name="generator" content="Hexo 5.3.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">IMin Lab</span>
    <div id="loader"></div>
    <div id="single" class="page">
    <div id="top">
        <a class="iconfont icon-left image-icon" href="javascript:history.back()"></a>
    </div>
    <div class="section">
        <div class="article">
            <div class="main">
                <div class="content">
                
                        <h1 id="视频快照"><a href="#视频快照" class="headerlink" title="视频快照"></a>视频快照</h1><p>快照的截取时间根据视频画面变化程度决定，各视频不相同</p>
<p>截取时间表的时间根据视频画面变化程度决定，各每个视频不相同</p>
<p>截取时间表的时间和快照一一对应，并按照从左到右 从上到下的顺序排布</p>
<hr>
<ul>
<li><a href="#%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E5%BF%AB%E7%85%A7%EF%BC%88web%E7%AB%AF%EF%BC%89">获取视频快照（web端）</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E5%BF%AB%E7%85%A7%EF%BC%88APP%E7%AB%AF%EF%BC%89">获取视频快照（APP端）</a></li>
<li><a href="#%E8%8E%B7%E5%8F%96%E8%A7%86%E9%A2%91%E5%BF%AB%E7%85%A7%EF%BC%88web%E7%AB%AF%EF%BC%89%EF%BC%88%E7%94%A8%E4%BA%8E%E5%B0%81%E9%9D%A2%E9%A2%84%E8%A7%88%EF%BC%89">获取视频快照（web端）（用于封面预览）</a></li>
<li><a href="#%E5%9B%BE%E7%89%87%E6%8B%BC%E7%89%88">图片拼版</a></li>
<li><a href="#bin%E6%A0%BC%E5%BC%8F%E6%88%AA%E5%8F%96%E6%97%B6%E9%97%B4%E8%A1%A8">bin格式截取时间表</a></li>
</ul>
<hr>
<h2 id="获取视频快照（web端）"><a href="#获取视频快照（web端）" class="headerlink" title="获取视频快照（web端）"></a>获取视频快照（web端）</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://api.bilibili.com/x/player/videoshot">http://api.bilibili.com/x/player/videoshot</a></p>
</blockquote>
<p><em>请求方式：GET</em> </p>
<p><strong>url参数：</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>内容</th>
<th>必要性</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>aid</td>
<td>num</td>
<td>稿件avID</td>
<td>必要（可选）</td>
<td>avID与bvID任选一个</td>
</tr>
<tr>
<td>bvid</td>
<td>str</td>
<td>稿件bvID</td>
<td>必要（可选）</td>
<td>avID与bvID任选一个</td>
</tr>
<tr>
<td>cid</td>
<td>num</td>
<td>分P CID</td>
<td>非必要</td>
<td>默认为1P</td>
</tr>
<tr>
<td>index</td>
<td>num</td>
<td>json数组截取时间表</td>
<td>非必要</td>
<td>1：需要<br />0：不需要<br />默认为0</td>
</tr>
</tbody></table>
<p><strong>json回复：</strong></p>
<p>根对象：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>code</td>
<td>num</td>
<td>返回值</td>
<td>0：成功 <br />40001：请求错误<br />40003：无视频</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>错误信息</td>
<td>默认为0</td>
</tr>
<tr>
<td>ttl</td>
<td>num</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>obj</td>
<td>信息本体</td>
<td></td>
</tr>
</tbody></table>
<p><code>data</code>对象：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>pvdata</td>
<td>str</td>
<td>bin格式截取时间表url</td>
<td></td>
</tr>
<tr>
<td>img_x_len</td>
<td>num</td>
<td>每行图片数</td>
<td>一般为10</td>
</tr>
<tr>
<td>img_y_len</td>
<td>num</td>
<td>每列图片数</td>
<td>一般为10</td>
</tr>
<tr>
<td>img_x_size</td>
<td>num</td>
<td>每张图片长</td>
<td>一般为160</td>
</tr>
<tr>
<td>img_y_size</td>
<td>num</td>
<td>每张图片宽</td>
<td>一般为90</td>
</tr>
<tr>
<td>image</td>
<td>array</td>
<td>图片拼版</td>
<td></td>
</tr>
<tr>
<td>index</td>
<td>array</td>
<td>json数组格式截取时间表</td>
<td>无为空</td>
</tr>
</tbody></table>
<p><code>data</code>中的<code>image</code>数组：</p>
<table>
<thead>
<tr>
<th>项</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>str</td>
<td>图片拼版1 url</td>
<td></td>
</tr>
<tr>
<td>n</td>
<td>str</td>
<td>图片拼版(n+1) url</td>
<td>第一张拼版占满时延续第二张</td>
</tr>
<tr>
<td>……</td>
<td>str</td>
<td>……</td>
<td>……</td>
</tr>
</tbody></table>
<p><code>data</code>中的<code>index</code>数组：</p>
<table>
<thead>
<tr>
<th>项</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>num</td>
<td>恒为0</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>num</td>
<td>图片1 截取时间</td>
<td>视频0秒截取时间</td>
</tr>
<tr>
<td>n</td>
<td>num</td>
<td>图片n  截取时间</td>
<td>单位为秒</td>
</tr>
<tr>
<td>……</td>
<td>num</td>
<td>……</td>
<td>单位为秒</td>
</tr>
</tbody></table>
<p><strong>示例：</strong></p>
<p>获取视频<code>av26273789</code>/<code>BV1os411H7wm</code>的快照</p>
<p>avID方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -G &#x27;http://api.bilibili.com/x/player/videoshot&#x27; \</span><br><span class="line">--data-urlencode &#x27;aid=26273789&#x27; \</span><br><span class="line">--data-urlencode &#x27;index=1&#x27;</span><br></pre></td></tr></table></figure>
<p>bvID方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl -G &#x27;http://api.bilibili.com/x/player/videoshot&#x27; \</span><br><span class="line">--data-urlencode &#x27;bvid=BV1os411H7wm&#x27; \</span><br><span class="line">--data-urlencode &#x27;index=1&#x27;</span><br></pre></td></tr></table></figure>
<details>
<summary>查看响应示例：</summary>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="attr">&quot;message&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">	<span class="attr">&quot;ttl&quot;</span>: <span class="number">1</span>,</span><br><span class="line">	<span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;pvdata&quot;</span>: <span class="string">&quot;//i0.hdslb.com/bfs/videoshot/49075258.bin&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;img_x_len&quot;</span>: <span class="number">10</span>,</span><br><span class="line">		<span class="attr">&quot;img_y_len&quot;</span>: <span class="number">10</span>,</span><br><span class="line">		<span class="attr">&quot;img_x_size&quot;</span>: <span class="number">160</span>,</span><br><span class="line">		<span class="attr">&quot;img_y_size&quot;</span>: <span class="number">90</span>,</span><br><span class="line">		<span class="attr">&quot;image&quot;</span>: [<span class="string">&quot;//i0.hdslb.com/bfs/videoshot/49075258.jpg&quot;</span>, <span class="string">&quot;//i0.hdslb.com/bfs/videoshot/49075258-1.jpg&quot;</span>],</span><br><span class="line">		<span class="attr">&quot;index&quot;</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">14</span>, <span class="number">19</span>, <span class="number">25</span>, <span class="number">34</span>, <span class="number">40</span>, <span class="number">46</span>, <span class="number">56</span>, <span class="number">63</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">87</span>, <span class="number">93</span>, <span class="number">100</span>, <span class="number">109</span>, <span class="number">117</span>, <span class="number">124</span>, <span class="number">133</span>, <span class="number">142</span>, <span class="number">148</span>, <span class="number">156</span>, <span class="number">164</span>, <span class="number">171</span>, <span class="number">179</span>, <span class="number">184</span>, <span class="number">192</span>, <span class="number">198</span>, <span class="number">206</span>, <span class="number">214</span>, <span class="number">223</span>, <span class="number">232</span>, <span class="number">239</span>, <span class="number">246</span>, <span class="number">254</span>, <span class="number">261</span>, <span class="number">269</span>, <span class="number">275</span>, <span class="number">283</span>, <span class="number">289</span>, <span class="number">299</span>, <span class="number">305</span>, <span class="number">310</span>, <span class="number">315</span>, <span class="number">322</span>, <span class="number">330</span>, <span class="number">339</span>, <span class="number">348</span>, <span class="number">358</span>, <span class="number">364</span>, <span class="number">371</span>, <span class="number">376</span>, <span class="number">382</span>, <span class="number">391</span>, <span class="number">404</span>, <span class="number">413</span>, <span class="number">421</span>, <span class="number">426</span>, <span class="number">434</span>, <span class="number">441</span>, <span class="number">452</span>, <span class="number">458</span>, <span class="number">463</span>, <span class="number">473</span>, <span class="number">479</span>, <span class="number">491</span>, <span class="number">497</span>, <span class="number">504</span>, <span class="number">514</span>, <span class="number">521</span>, <span class="number">528</span>, <span class="number">533</span>, <span class="number">540</span>, <span class="number">546</span>, <span class="number">552</span>, <span class="number">558</span>, <span class="number">567</span>, <span class="number">575</span>, <span class="number">586</span>, <span class="number">591</span>, <span class="number">602</span>, <span class="number">609</span>, <span class="number">615</span>, <span class="number">623</span>, <span class="number">629</span>, <span class="number">639</span>, <span class="number">647</span>, <span class="number">653</span>, <span class="number">658</span>, <span class="number">664</span>, <span class="number">670</span>, <span class="number">675</span>, <span class="number">684</span>, <span class="number">691</span>, <span class="number">698</span>, <span class="number">713</span>, <span class="number">724</span>, <span class="number">729</span>, <span class="number">737</span>, <span class="number">743</span>, <span class="number">754</span>, <span class="number">762</span>, <span class="number">772</span>, <span class="number">779</span>, <span class="number">784</span>, <span class="number">797</span>, <span class="number">803</span>, <span class="number">810</span>, <span class="number">817</span>, <span class="number">825</span>, <span class="number">834</span>, <span class="number">845</span>, <span class="number">851</span>, <span class="number">857</span>, <span class="number">867</span>, <span class="number">878</span>, <span class="number">888</span>, <span class="number">896</span>, <span class="number">903</span>, <span class="number">909</span>, <span class="number">914</span>, <span class="number">919</span>, <span class="number">928</span>, <span class="number">935</span>, <span class="number">944</span>, <span class="number">958</span>, <span class="number">970</span>, <span class="number">977</span>, <span class="number">988</span>, <span class="number">996</span>, <span class="number">1004</span>, <span class="number">1011</span>, <span class="number">1018</span>, <span class="number">1026</span>, <span class="number">1035</span>, <span class="number">1041</span>, <span class="number">1048</span>, <span class="number">1055</span>, <span class="number">1063</span>, <span class="number">1073</span>, <span class="number">1079</span>, <span class="number">1086</span>, <span class="number">1095</span>, <span class="number">1106</span>, <span class="number">1111</span>, <span class="number">1124</span>, <span class="number">1135</span>, <span class="number">1147</span>, <span class="number">1153</span>, <span class="number">1159</span>, <span class="number">1165</span>, <span class="number">1171</span>, <span class="number">1184</span>, <span class="number">1198</span>, <span class="number">1209</span>, <span class="number">1215</span>, <span class="number">1221</span>, <span class="number">1228</span>, <span class="number">1236</span>, <span class="number">1242</span>, <span class="number">1253</span>, <span class="number">1258</span>, <span class="number">1269</span>, <span class="number">1276</span>, <span class="number">1284</span>, <span class="number">1289</span>, <span class="number">1300</span>, <span class="number">1306</span>, <span class="number">1315</span>, <span class="number">1321</span>, <span class="number">1328</span>, <span class="number">1340</span>, <span class="number">1347</span>, <span class="number">1354</span>, <span class="number">1361</span>, <span class="number">1366</span>, <span class="number">1371</span>, <span class="number">1383</span>, <span class="number">1390</span>, <span class="number">1396</span>, <span class="number">1403</span>, <span class="number">1415</span>]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h2 id="获取视频快照（APP端）"><a href="#获取视频快照（APP端）" class="headerlink" title="获取视频快照（APP端）"></a>获取视频快照（APP端）</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://app.bilibili.com/x/v2/view/video/shot">http://app.bilibili.com/x/v2/view/video/shot</a> </p>
</blockquote>
<p><em>请求方式：GET</em></p>
<p>鉴权方式：appkey</p>
<p><strong>url参数：</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>内容</th>
<th>必要性</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>appkey</td>
<td>str</td>
<td>APP密钥</td>
<td>APP方式必要</td>
<td></td>
</tr>
<tr>
<td>aid</td>
<td>num</td>
<td>稿件avID</td>
<td>必要</td>
<td></td>
</tr>
<tr>
<td>cid</td>
<td>num</td>
<td>分P CID</td>
<td>必要</td>
<td></td>
</tr>
<tr>
<td>ts</td>
<td>num</td>
<td>当前时间戳</td>
<td>APP方式必要</td>
<td></td>
</tr>
<tr>
<td>sign</td>
<td>str</td>
<td>APP签名</td>
<td>APP方式必要</td>
<td></td>
</tr>
</tbody></table>
<p><strong>json回复：</strong></p>
<p>根对象：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>code</td>
<td>num</td>
<td>返回值</td>
<td>0：成功 <br />-3：API校验密匙错误<br />-400：请求错误<br />10008：稿件的缩略图不存在</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>错误信息</td>
<td>默认为0</td>
</tr>
<tr>
<td>ttl</td>
<td>num</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>obj</td>
<td>信息本体</td>
<td></td>
</tr>
</tbody></table>
<p><code>data</code>对象：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>pvdata</td>
<td>str</td>
<td>bin格式截取时间表url</td>
<td></td>
</tr>
<tr>
<td>img_x_len</td>
<td>num</td>
<td>每行图片数</td>
<td>一般为10</td>
</tr>
<tr>
<td>img_y_len</td>
<td>num</td>
<td>每列图片数</td>
<td>一般为10</td>
</tr>
<tr>
<td>img_x_size</td>
<td>num</td>
<td>每张图片长</td>
<td>一般为160</td>
</tr>
<tr>
<td>img_y_size</td>
<td>num</td>
<td>每张图片宽</td>
<td>一般为90</td>
</tr>
<tr>
<td>image</td>
<td>array</td>
<td>图片拼版</td>
<td></td>
</tr>
</tbody></table>
<p><code>data</code>中的<code>image</code>数组：</p>
<table>
<thead>
<tr>
<th>项</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>str</td>
<td>图片拼版1 url</td>
<td></td>
</tr>
<tr>
<td>n</td>
<td>str</td>
<td>图片拼版(n+1) url</td>
<td>第一张拼版占满时延续第二张</td>
</tr>
<tr>
<td>……</td>
<td>str</td>
<td>……</td>
<td>……</td>
</tr>
</tbody></table>
<p>示例：</p>
<p>获取视频<code>av26273789</code>（<code>CID=49075258</code>）的快照</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -G &#x27;http://app.bilibili.com/x/v2/view/video/shot&#x27; \</span><br><span class="line">--data-urlencode &#x27;appkey=1d8b6e7d45233436&#x27; \</span><br><span class="line">--data-urlencode &#x27;aid=26273789&#x27; \</span><br><span class="line">--data-urlencode &#x27;cid=49075258&#x27; \</span><br><span class="line">--data-urlencode &#x27;ts=0&#x27; \</span><br><span class="line">--data-urlencode &#x27;sign=06c0a4f2ede21984313552bd9439db18&#x27;</span><br></pre></td></tr></table></figure>
<details>
<summary>查看响应示例：</summary>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;message&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;ttl&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;pvdata&quot;</span>: <span class="string">&quot;http://i0.hdslb.com/bfs/videoshot/49075258.bin&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;img_x_len&quot;</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">&quot;img_y_len&quot;</span>: <span class="number">10</span>,</span><br><span class="line">        <span class="attr">&quot;img_x_size&quot;</span>: <span class="number">160</span>,</span><br><span class="line">        <span class="attr">&quot;img_y_size&quot;</span>: <span class="number">90</span>,</span><br><span class="line">        <span class="attr">&quot;image&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;http://i0.hdslb.com/bfs/videoshot/49075258.jpg&quot;</span>,</span><br><span class="line">            <span class="string">&quot;http://i0.hdslb.com/bfs/videoshot/49075258-1.jpg&quot;</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h2 id="获取视频快照（web端）（用于封面预览）"><a href="#获取视频快照（web端）（用于封面预览）" class="headerlink" title="获取视频快照（web端）（用于封面预览）"></a>获取视频快照（web端）（用于封面预览）</h2><blockquote>
<p><a target="_blank" rel="noopener" href="http://api.bilibili.com/pvideo">http://api.bilibili.com/pvideo</a></p>
</blockquote>
<p><em>请求方式：GET</em></p>
<p>内容与「获取视频快照1」加参数index=1相同，但url带有转义，仅限第1P</p>
<p><strong>url参数：</strong></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>类型</th>
<th>内容</th>
<th>必要性</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>aid</td>
<td>num</td>
<td>稿件avID</td>
<td>必要</td>
<td></td>
</tr>
</tbody></table>
<p><strong>json回复：</strong></p>
<p>根对象：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>code</td>
<td>num</td>
<td>返回值</td>
<td>0：成功<br />40001：请求错误<br />-404：无视频</td>
</tr>
<tr>
<td>message</td>
<td>str</td>
<td>错误信息</td>
<td>默认为0</td>
</tr>
<tr>
<td>ttl</td>
<td>num</td>
<td>1</td>
<td></td>
</tr>
<tr>
<td>data</td>
<td>obj</td>
<td>信息本体</td>
<td></td>
</tr>
</tbody></table>
<p><code>data</code>对象：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>pvdata</td>
<td>str</td>
<td>bin格式截取时间表url</td>
<td></td>
</tr>
<tr>
<td>img_x_len</td>
<td>num</td>
<td>每行图片数</td>
<td>一般为10</td>
</tr>
<tr>
<td>img_y_len</td>
<td>num</td>
<td>每列图片数</td>
<td>一般为10</td>
</tr>
<tr>
<td>img_x_size</td>
<td>num</td>
<td>每张图片长</td>
<td>一般为160</td>
</tr>
<tr>
<td>img_y_size</td>
<td>num</td>
<td>每张图片宽</td>
<td>一般为90</td>
</tr>
<tr>
<td>image</td>
<td>array</td>
<td>图片拼版</td>
<td></td>
</tr>
<tr>
<td>index</td>
<td>array</td>
<td>json数组格式截取时间表</td>
<td>无为空</td>
</tr>
</tbody></table>
<p><code>data</code>中的<code>image</code>数组：</p>
<table>
<thead>
<tr>
<th>项</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>str</td>
<td>图片拼版1 url</td>
<td></td>
</tr>
<tr>
<td>n</td>
<td>str</td>
<td>图片拼版(n+1) url</td>
<td>第一张拼版占满时延续第二张</td>
</tr>
<tr>
<td>……</td>
<td>str</td>
<td>……</td>
<td>……</td>
</tr>
</tbody></table>
<p><code>data</code>中的<code>index</code>数组：</p>
<table>
<thead>
<tr>
<th>项</th>
<th>类型</th>
<th>内容</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>num</td>
<td>恒为0</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>num</td>
<td>图片1 截取时间</td>
<td>视频0秒截取时间</td>
</tr>
<tr>
<td>n</td>
<td>num</td>
<td>图片n  截取时间</td>
<td>单位为秒</td>
</tr>
<tr>
<td>……</td>
<td>num</td>
<td>……</td>
<td>单位为秒</td>
</tr>
</tbody></table>
<p><strong>示例：</strong></p>
<p>获取视频<code>av26273789</code>的快照</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -G &#x27;http://api.bilibili.com/pvideo&#x27; \</span><br><span class="line">--data-urlencode &#x27;aid=26273789&#x27;</span><br></pre></td></tr></table></figure>
<details>
<summary>查看响应示例：</summary>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;code&quot;</span>: <span class="number">0</span>,</span><br><span class="line">	<span class="attr">&quot;message&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">	<span class="attr">&quot;ttl&quot;</span>: <span class="number">1</span>,</span><br><span class="line">	<span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;pvdata&quot;</span>: <span class="string">&quot;\/\/i0.hdslb.com\/bfs\/videoshot\/49075258.bin&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;img_x_len&quot;</span>: <span class="number">10</span>,</span><br><span class="line">		<span class="attr">&quot;img_y_len&quot;</span>: <span class="number">10</span>,</span><br><span class="line">		<span class="attr">&quot;img_x_size&quot;</span>: <span class="number">160</span>,</span><br><span class="line">		<span class="attr">&quot;img_y_size&quot;</span>: <span class="number">90</span>,</span><br><span class="line">		<span class="attr">&quot;image&quot;</span>: [<span class="string">&quot;\/\/i0.hdslb.com\/bfs\/videoshot\/49075258.jpg&quot;</span>, <span class="string">&quot;\/\/i0.hdslb.com\/bfs\/videoshot\/49075258-1.jpg&quot;</span>],</span><br><span class="line">		<span class="attr">&quot;index&quot;</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">14</span>, <span class="number">19</span>, <span class="number">25</span>, <span class="number">34</span>, <span class="number">40</span>, <span class="number">46</span>, <span class="number">56</span>, <span class="number">63</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">87</span>, <span class="number">93</span>, <span class="number">100</span>, <span class="number">109</span>, <span class="number">117</span>, <span class="number">124</span>, <span class="number">133</span>, <span class="number">142</span>, <span class="number">148</span>, <span class="number">156</span>, <span class="number">164</span>, <span class="number">171</span>, <span class="number">179</span>, <span class="number">184</span>, <span class="number">192</span>, <span class="number">198</span>, <span class="number">206</span>, <span class="number">214</span>, <span class="number">223</span>, <span class="number">232</span>, <span class="number">239</span>, <span class="number">246</span>, <span class="number">254</span>, <span class="number">261</span>, <span class="number">269</span>, <span class="number">275</span>, <span class="number">283</span>, <span class="number">289</span>, <span class="number">299</span>, <span class="number">305</span>, <span class="number">310</span>, <span class="number">315</span>, <span class="number">322</span>, <span class="number">330</span>, <span class="number">339</span>, <span class="number">348</span>, <span class="number">358</span>, <span class="number">364</span>, <span class="number">371</span>, <span class="number">376</span>, <span class="number">382</span>, <span class="number">391</span>, <span class="number">404</span>, <span class="number">413</span>, <span class="number">421</span>, <span class="number">426</span>, <span class="number">434</span>, <span class="number">441</span>, <span class="number">452</span>, <span class="number">458</span>, <span class="number">463</span>, <span class="number">473</span>, <span class="number">479</span>, <span class="number">491</span>, <span class="number">497</span>, <span class="number">504</span>, <span class="number">514</span>, <span class="number">521</span>, <span class="number">528</span>, <span class="number">533</span>, <span class="number">540</span>, <span class="number">546</span>, <span class="number">552</span>, <span class="number">558</span>, <span class="number">567</span>, <span class="number">575</span>, <span class="number">586</span>, <span class="number">591</span>, <span class="number">602</span>, <span class="number">609</span>, <span class="number">615</span>, <span class="number">623</span>, <span class="number">629</span>, <span class="number">639</span>, <span class="number">647</span>, <span class="number">653</span>, <span class="number">658</span>, <span class="number">664</span>, <span class="number">670</span>, <span class="number">675</span>, <span class="number">684</span>, <span class="number">691</span>, <span class="number">698</span>, <span class="number">713</span>, <span class="number">724</span>, <span class="number">729</span>, <span class="number">737</span>, <span class="number">743</span>, <span class="number">754</span>, <span class="number">762</span>, <span class="number">772</span>, <span class="number">779</span>, <span class="number">784</span>, <span class="number">797</span>, <span class="number">803</span>, <span class="number">810</span>, <span class="number">817</span>, <span class="number">825</span>, <span class="number">834</span>, <span class="number">845</span>, <span class="number">851</span>, <span class="number">857</span>, <span class="number">867</span>, <span class="number">878</span>, <span class="number">888</span>, <span class="number">896</span>, <span class="number">903</span>, <span class="number">909</span>, <span class="number">914</span>, <span class="number">919</span>, <span class="number">928</span>, <span class="number">935</span>, <span class="number">944</span>, <span class="number">958</span>, <span class="number">970</span>, <span class="number">977</span>, <span class="number">988</span>, <span class="number">996</span>, <span class="number">1004</span>, <span class="number">1011</span>, <span class="number">1018</span>, <span class="number">1026</span>, <span class="number">1035</span>, <span class="number">1041</span>, <span class="number">1048</span>, <span class="number">1055</span>, <span class="number">1063</span>, <span class="number">1073</span>, <span class="number">1079</span>, <span class="number">1086</span>, <span class="number">1095</span>, <span class="number">1106</span>, <span class="number">1111</span>, <span class="number">1124</span>, <span class="number">1135</span>, <span class="number">1147</span>, <span class="number">1153</span>, <span class="number">1159</span>, <span class="number">1165</span>, <span class="number">1171</span>, <span class="number">1184</span>, <span class="number">1198</span>, <span class="number">1209</span>, <span class="number">1215</span>, <span class="number">1221</span>, <span class="number">1228</span>, <span class="number">1236</span>, <span class="number">1242</span>, <span class="number">1253</span>, <span class="number">1258</span>, <span class="number">1269</span>, <span class="number">1276</span>, <span class="number">1284</span>, <span class="number">1289</span>, <span class="number">1300</span>, <span class="number">1306</span>, <span class="number">1315</span>, <span class="number">1321</span>, <span class="number">1328</span>, <span class="number">1340</span>, <span class="number">1347</span>, <span class="number">1354</span>, <span class="number">1361</span>, <span class="number">1366</span>, <span class="number">1371</span>, <span class="number">1383</span>, <span class="number">1390</span>, <span class="number">1396</span>, <span class="number">1403</span>, <span class="number">1415</span>]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h2 id="图片拼版"><a href="#图片拼版" class="headerlink" title="图片拼版"></a>图片拼版</h2><p>以160x90像素为一张，横向10张，纵向10张，从左到右从上到下进行裁剪</p>
<p>图1为0s，图2为8s，图3为14s，以此类推……</p>
<p>示例拼版图片url：<a target="_blank" rel="noopener" href="http://i0.hdslb.com/bfs/videoshot/49075258.jpg">http://i0.hdslb.com/bfs/videoshot/49075258.jpg</a></p>
<p><img src="http://i0.hdslb.com/bfs/videoshot/49075258.jpg"></p>
<h2 id="bin格式截取时间表"><a href="#bin格式截取时间表" class="headerlink" title="bin格式截取时间表"></a>bin格式截取时间表</h2><p>bin的内容为uint16数组（2Byte对齐），与json数组一一对应</p>
<p>0第项恒为0，从第1项开始作为截取图片的时间（秒）</p>
<p>示例bin格式截取时间表：<a target="_blank" rel="noopener" href="http://i0.hdslb.com/bfs/videoshot/49075258.bin">http://i0.hdslb.com/bfs/videoshot/49075258.bin</a></p>
<p>hex内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">00000000  00 00 00 00 00 08 00 0e  00 13 00 19 00 22 00 28  |.............&quot;.(|</span><br><span class="line">00000010  00 2e 00 38 00 3f 00 46  00 50 00 57 00 5d 00 64  |...8.?.F.P.W.].d|</span><br><span class="line">00000020  00 6d 00 75 00 7c 00 85  00 8e 00 94 00 9c 00 a4  |.m.u.|..........|</span><br><span class="line">00000030  00 ab 00 b3 00 b8 00 c0  00 c6 00 ce 00 d6 00 df  |................|</span><br><span class="line">00000040  00 e8 00 ef 00 f6 00 fe  01 05 01 0d 01 13 01 1b  |................|</span><br><span class="line">00000050  01 21 01 2b 01 31 01 36  01 3b 01 42 01 4a 01 53  |.!.+.1.6.;.B.J.S|</span><br><span class="line">00000060  01 5c 01 66 01 6c 01 73  01 78 01 7e 01 87 01 94  |.\.f.l.s.x.~....|</span><br><span class="line">00000070  01 9d 01 a5 01 aa 01 b2  01 b9 01 c4 01 ca 01 cf  |................|</span><br><span class="line">00000080  01 d9 01 df 01 eb 01 f1  01 f8 02 02 02 09 02 10  |................|</span><br><span class="line">00000090  02 15 02 1c 02 22 02 28  02 2e 02 37 02 3f 02 4a  |.....&quot;.(...7.?.J|</span><br><span class="line">000000a0  02 4f 02 5a 02 61 02 67  02 6f 02 75 02 7f 02 87  |.O.Z.a.g.o.u....|</span><br><span class="line">000000b0  02 8d 02 92 02 98 02 9e  02 a3 02 ac 02 b3 02 ba  |................|</span><br><span class="line">000000c0  02 c9 02 d4 02 d9 02 e1  02 e7 02 f2 02 fa 03 04  |................|</span><br><span class="line">000000d0  03 0b 03 10 03 1d 03 23  03 2a 03 31 03 39 03 42  |.......#.*.1.9.B|</span><br><span class="line">000000e0  03 4d 03 53 03 59 03 63  03 6e 03 78 03 80 03 87  |.M.S.Y.c.n.x....|</span><br><span class="line">000000f0  03 8d 03 92 03 97 03 a0  03 a7 03 b0 03 be 03 ca  |................|</span><br><span class="line">00000100  03 d1 03 dc 03 e4 03 ec  03 f3 03 fa 04 02 04 0b  |................|</span><br><span class="line">00000110  04 11 04 18 04 1f 04 27  04 31 04 37 04 3e 04 47  |.......&#39;.1.7.&gt;.G|</span><br><span class="line">00000120  04 52 04 57 04 64 04 6f  04 7b 04 81 04 87 04 8d  |.R.W.d.o.&#123;......|</span><br><span class="line">00000130  04 93 04 a0 04 ae 04 b9  04 bf 04 c5 04 cc 04 d4  |................|</span><br><span class="line">00000140  04 da 04 e5 04 ea 04 f5  04 fc 05 04 05 09 05 14  |................|</span><br><span class="line">00000150  05 1a 05 23 05 29 05 30  05 3c 05 43 05 4a 05 51  |...#.).0.&lt;.C.J.Q|</span><br><span class="line">00000160  05 56 05 5b 05 67 05 6e  05 74 05 7b 05 87        |.V.[.g.n.t.&#123;..|</span><br></pre></td></tr></table></figure>
                
                </div>
            </div>
        </div>
    </div>
</div>

</body>

<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>


<script src="/js/darkmode.js"></script>


<script src="/js/live2d.js"></script>
<script src="/js/waifu-tips.js"></script>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



<div class="waifu">
  <div class="waifu-tips"></div>
  <canvas id="live2d" class="live2d"></canvas>
  <div class="waifu-tool">
      <span class="fui-home"></span>
      <span class="fui-chat"></span>
      <span class="fui-eye"></span>
      <span class="fui-user"></span>
      <span class="fui-photo"></span>
      <span class="fui-info-circle"></span>
      <span class="fui-cross"></span>
  </div>
</div>
<script type="text/javascript">
  initModel("/live2d/waifu-tips.json")
</script>





</html>
